<!DOCTYPE html>  
<html lang="pt-BR">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Login - Minha Biblioteca</title>  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      
    <!-- ADICIONAR: SDK do Supabase -->  
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
      
    <style>  
        /* ... mesmo CSS anterior ... */  
        :root {  
            --primary-color: #123021;  
            --primary-color-light: #1a4731;  
            --secondary-color: #cff3c2;  
            --accent-color: #d64000;  
            --text-dark: #123021;  
            --text-light: #ffffff;  
        }
  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  
        }
  
        body {  
            background: linear-gradient(135deg, var(--primary-color), var(--primary-color-light));  
            min-height: 100vh;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            padding: 20px;  
        }
  
        .login-container {  
            background: white;  
            border-radius: 20px;  
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);  
            overflow: hidden;  
            max-width: 400px;  
            width: 100%;  
            animation: slideIn 0.5s ease-out;  
        }
  
        @keyframes slideIn {  
            from { opacity: 0; transform: translateY(-30px); }  
            to { opacity: 1; transform: translateY(0); }  
        }
  
        .login-header {  
            background: linear-gradient(135deg, var(--primary-color), var(--primary-color-light));  
            padding: 2rem;  
            text-align: center;  
            color: white;  
        }
  
        .login-header i {  
            font-size: 3rem;  
            margin-bottom: 1rem;  
            color: var(--secondary-color);  
        }
  
        .login-header h1 {  
            font-size: 1.8rem;  
            margin-bottom: 0.5rem;  
        }
  
        .login-body {  
            padding: 2rem;  
        }
  
        .tabs {  
            display: flex;  
            margin-bottom: 2rem;  
            border-bottom: 2px solid #e9ecef;  
        }
  
        .tab {  
            flex: 1;  
            padding: 1rem;  
            text-align: center;  
            background: none;  
            border: none;  
            cursor: pointer;  
            font-size: 1rem;  
            font-weight: 600;  
            color: #666;  
            transition: all 0.3s;  
            position: relative;  
        }
  
        .tab.active {  
            color: var(--primary-color);  
        }
  
        .tab.active::after {  
            content: '';  
            position: absolute;  
            bottom: -2px;  
            left: 0;  
            right: 0;  
            height: 2px;  
            background: var(--accent-color);  
        }
  
        .tab-content {  
            display: none;  
        }
  
        .tab-content.active {  
            display: block;  
            animation: fadeIn 0.3s ease-in;  
        }
  
        @keyframes fadeIn {  
            from { opacity: 0; }  
            to { opacity: 1; }  
        }
  
        .form-group {  
            margin-bottom: 1.5rem;  
        }
  
        .form-group label {  
            display: block;  
            margin-bottom: 0.5rem;  
            color: var(--primary-color);  
            font-weight: 600;  
            font-size: 0.9rem;  
        }
  
        .input-group {  
            position: relative;  
        }
  
        .input-group i {  
            position: absolute;  
            left: 1rem;  
            top: 50%;  
            transform: translateY(-50%);  
            color: #666;  
        }
  
        .form-group input {  
            width: 100%;  
            padding: 0.8rem 1rem 0.8rem 2.8rem;  
            border: 2px solid #e9ecef;  
            border-radius: 8px;  
            font-size: 1rem;  
            transition: border-color 0.3s;  
        }
  
        .form-group input:focus {  
            outline: none;  
            border-color: var(--secondary-color);  
        }
  
        .password-toggle {  
            position: absolute;  
            right: 1rem;  
            top: 50%;  
            transform: translateY(-50%);  
            background: none;  
            border: none;  
            cursor: pointer;  
            color: #666;  
            font-size: 1.2rem;  
        }
  
        .btn-submit {  
            width: 100%;  
            padding: 1rem;  
            background: var(--accent-color);  
            color: white;  
            border: none;  
            border-radius: 8px;  
            font-size: 1rem;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            margin-top: 1rem;  
        }
  
        .btn-submit:hover {  
            background: #b33600;  
            transform: translateY(-2px);  
            box-shadow: 0 5px 15px rgba(214, 64, 0, 0.3);  
        }
  
        .btn-submit:disabled {  
            background: #ccc;  
            cursor: not-allowed;  
            transform: none;  
        }
  
        .alert {  
            padding: 1rem;  
            border-radius: 8px;  
            margin-bottom: 1rem;  
            display: none;  
            animation: slideDown 0.3s ease-out;  
        }
  
        @keyframes slideDown {  
            from { opacity: 0; transform: translateY(-10px); }  
            to { opacity: 1; transform: translateY(0); }  
        }
  
        .alert.show {  
            display: block;  
        }
  
        .alert-success {  
            background: #d4edda;  
            color: #155724;  
            border: 1px solid #c3e6cb;  
        }
  
        .alert-error {  
            background: #f8d7da;  
            color: #721c24;  
            border: 1px solid #f5c6cb;  
        }
  
        .info-box {  
            background: #e8f5e9;  
            padding: 1rem;  
            border-radius: 8px;  
            margin-top: 1rem;  
            border-left: 4px solid var(--secondary-color);  
        }
  
        .info-box h4 {  
            color: var(--primary-color);  
            margin-bottom: 0.5rem;  
            font-size: 0.9rem;  
        }
  
        .info-box p {  
            font-size: 0.85rem;  
            color: #666;  
            line-height: 1.4;  
        }  
    </style>  
</head>  
<body>  
    <div class="login-container">  
        <div class="login-header">  
            <i class="fas fa-book-reader"></i>  
            <h1>ðŸ“š Minha Biblioteca</h1>  
            <p>Organize suas leituras com seguranÃ§a</p>  
        </div>
  
        <div class="login-body">  
            <div id="alertBox" class="alert"></div>
  
            <div class="tabs">  
                <button class="tab active" onclick="switchTab('login')">Entrar</button>  
                <button class="tab" onclick="switchTab('register')">Criar Conta</button>  
            </div>
  
            <!-- Login Form -->  
            <div id="loginForm" class="tab-content active">  
                <form onsubmit="handleLogin(event)">  
                    <div class="form-group">  
                        <label for="loginEmail">Email</label>  
                        <div class="input-group">  
                            <i class="fas fa-envelope"></i>  
                            <input type="email" id="loginEmail" required placeholder="seu@email.com">  
                        </div>  
                    </div>
  
                    <div class="form-group">  
                        <label for="loginPassword">Senha</label>  
                        <div class="input-group">  
                            <i class="fas fa-lock"></i>  
                            <input type="password" id="loginPassword" required placeholder="Digite sua senha">  
                            <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">  
                                <i class="fas fa-eye"></i>  
                            </button>  
                        </div>  
                    </div>
  
                    <button type="submit" class="btn-submit" id="loginBtn">  
                        <i class="fas fa-sign-in-alt"></i> Entrar  
                    </button>  
                </form>  
            </div>
  
            <!-- Register Form -->  
            <div id="registerForm" class="tab-content">  
                <form onsubmit="handleRegister(event)">  
                    <div class="form-group">  
                        <label for="registerEmail">Email</label>  
                        <div class="input-group">  
                            <i class="fas fa-envelope"></i>  
                            <input type="email" id="registerEmail" required placeholder="seu@email.com">  
                        </div>  
                    </div>
  
                    <div class="form-group">  
                        <label for="registerPassword">Senha</label>  
                        <div class="input-group">  
                            <i class="fas fa-lock"></i>  
                            <input type="password" id="registerPassword" required placeholder="MÃ­nimo 6 caracteres">  
                            <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">  
                                <i class="fas fa-eye"></i>  
                            </button>  
                        </div>  
                    </div>
  
                    <div class="form-group">  
                        <label for="confirmPassword">Confirmar Senha</label>  
                        <div class="input-group">  
                            <i class="fas fa-lock"></i>  
                            <input type="password" id="confirmPassword" required placeholder="Digite a senha novamente">  
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">  
                                <i class="fas fa-eye"></i>  
                            </button>  
                        </div>  
                    </div>
  
                    <button type="submit" class="btn-submit" id="registerBtn">  
                        <i class="fas fa-user-plus"></i> Criar Conta  
                    </button>  
                </form>
  
                <div class="info-box">  
                    <h4><i class="fas fa-info-circle"></i> Com Supabase</h4>  
                    <p>Seus dados ficam seguros na nuvem e sincronizam automaticamente entre todos os seus dispositivos!</p>  
                </div>  
            </div>  
        </div>  
    </div>
  
    <script>  
        // ============================================  
        // CONFIGURAÃ‡ÃƒO DO SUPABASE  
        // ============================================  
        // SUBSTITUA ESTAS CREDENCIAIS PELAS SUAS!  
        const SUPABASE_URL = 'https://frrsqyleqhmdzeipzfpf.supabase.co'  
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZycnNxeWxlcWhtZHplaXB6ZnBmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxNDE0OTMsImV4cCI6MjA3ODcxNzQ5M30.a3PCQ2ihtR9jF71N0D84ly-tf9PkYtqYFnCIhmKdTZE'  
          
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY)
  
        // Alternar entre abas  
        function switchTab(tabName) {  
            const tabs = document.querySelectorAll('.tab');  
            const contents = document.querySelectorAll('.tab-content');
              
            tabs.forEach(tab => tab.classList.remove('active'));  
            contents.forEach(content => content.classList.remove('active'));
              
            if (tabName === 'login') {  
                tabs[0].classList.add('active');  
                document.getElementById('loginForm').classList.add('active');  
            } else {  
                tabs[1].classList.add('active');  
                document.getElementById('registerForm').classList.add('active');  
            }
              
            hideAlert();  
        }
  
        // Mostrar/esconder senha  
        function togglePassword(inputId) {  
            const input = document.getElementById(inputId);  
            const button = input.nextElementSibling;  
            const icon = button.querySelector('i');
              
            if (input.type === 'password') {  
                input.type = 'text';  
                icon.classList.remove('fa-eye');  
                icon.classList.add('fa-eye-slash');  
            } else {  
                input.type = 'password';  
                icon.classList.remove('fa-eye-slash');  
                icon.classList.add('fa-eye');  
            }  
        }
  
        // Mostrar alertas  
        function showAlert(message, type) {  
            const alertBox = document.getElementById('alertBox');  
            alertBox.textContent = message;  
            alertBox.className = `alert alert-${type} show`;  
        }
  
        function hideAlert() {  
            document.getElementById('alertBox').classList.remove('show');  
        }
  
        // Registro com Supabase  
        async function handleRegister(event) {  
            event.preventDefault();
              
            const email = document.getElementById('registerEmail').value;  
            const password = document.getElementById('registerPassword').value;  
            const confirmPassword = document.getElementById('confirmPassword').value;  
            const btn = document.getElementById('registerBtn');
  
            if (password.length < 6) {  
                showAlert('A senha deve ter no mÃ­nimo 6 caracteres!', 'error');  
                return;  
            }
  
            if (password !== confirmPassword) {  
                showAlert('As senhas nÃ£o coincidem!', 'error');  
                return;  
            }
  
            btn.disabled = true;  
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Criando conta...';
  
            const { data, error } = await supabase.auth.signUp({  
                email: email,  
                password: password,  
            })
  
            if (error) {  
                showAlert('Erro ao criar conta: ' + error.message, 'error');  
                btn.disabled = false;  
                btn.innerHTML = '<i class="fas fa-user-plus"></i> Criar Conta';  
                return;  
            }
  
            showAlert('Conta criada! Verifique seu email para confirmar.', 'success');
              
            setTimeout(() => {  
                document.getElementById('registerEmail').value = '';  
                document.getElementById('registerPassword').value = '';  
                document.getElementById('confirmPassword').value = '';  
                switchTab('login');  
                btn.disabled = false;  
                btn.innerHTML = '<i class="fas fa-user-plus"></i> Criar Conta';  
            }, 2000);  
        }
  
        // Login com Supabase  
        async function handleLogin(event) {  
            event.preventDefault();
              
            const email = document.getElementById('loginEmail').value;  
            const password = document.getElementById('loginPassword').value;  
            const btn = document.getElementById('loginBtn');
  
            btn.disabled = true;  
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Entrando...';
  
            const { data, error } = await supabase.auth.signInWithPassword({  
                email: email,  
                password: password,  
            })
  
            if (error) {  
                showAlert('Email ou senha incorretos!', 'error');  
                btn.disabled = false;  
                btn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Entrar';  
                return;  
            }
  
            showAlert('Login realizado com sucesso! Redirecionando...', 'success');
              
            setTimeout(() => {  
                window.location.href = 'biblioteca.html';  
            }, 1000);  
        }
  
        // Verificar se jÃ¡ estÃ¡ logado  
        window.addEventListener('DOMContentLoaded', async () => {  
            const { data: { session } } = await supabase.auth.getSession()  
            if (session) {  
                window.location.href = 'biblioteca.html';  
            }  
        });  
    </script>  
</body>  

</html>  
